<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Founder Dashboard ‚Äì My Car Concierge</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#12161c" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="My Car Concierge" />
  <link rel="manifest" href="/manifest.json" />
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/shared-styles.css">
  <script src="https://cdn.jsdelivr.net/npm/qr-creator/dist/qr-creator.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg-deep: #12161c;
      --bg-card: rgba(26, 32, 42, 0.9);
      --bg-elevated: rgba(36, 44, 56, 0.95);
      --bg-input: rgba(30, 38, 48, 0.9);
      --text-primary: #f5f5f7;
      --text-secondary: #a0a8b8;
      --text-muted: #6b7280;
      --accent-gold: #c9a227;
      --accent-gold-soft: rgba(201, 162, 39, 0.18);
      --accent-blue: #38bdf8;
      --accent-blue-soft: rgba(56, 189, 248, 0.12);
      --accent-green: #34d399;
      --accent-green-soft: rgba(52, 211, 153, 0.12);
      --accent-red: #f87171;
      --accent-red-soft: rgba(248, 113, 113, 0.15);
      --accent-orange: #fb923c;
      --accent-orange-soft: rgba(245, 158, 11, 0.15);
      --border-subtle: rgba(160, 168, 184, 0.15);
      --border-medium: rgba(160, 168, 184, 0.25);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; scrollbar-width: thin; scrollbar-color: var(--border-medium) var(--bg-deep); }
    body { min-height: 100vh; font-family: 'Outfit', -apple-system, sans-serif; background: var(--bg-deep); color: var(--text-primary); }

    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg-deep); }
    ::-webkit-scrollbar-thumb { background: var(--border-medium); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 40px;
      background: var(--bg-card);
      border-bottom: 1px solid var(--border-subtle);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .header-brand {
      display: flex;
      align-items: center;
      gap: 16px;
      text-decoration: none;
    }

    .header-brand img {
      height: 56px;
      border-radius: var(--radius-md);
      transition: all 0.3s ease;
    }
    .header-brand:hover img {
      filter: drop-shadow(0 8px 32px rgba(212, 168, 85, 0.5));
      transform: scale(1.03);
    }

    .header-brand-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.1rem;
      color: var(--text-primary);
    }

    .header-nav {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      font-family: inherit;
      font-size: 0.88rem;
      font-weight: 500;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent-gold), #c49a45);
      color: #0a0a0f;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(212, 168, 85, 0.3);
    }

    .btn-secondary {
      background: var(--bg-elevated);
      color: var(--text-primary);
      border: 1px solid var(--border-subtle);
    }

    .btn-secondary:hover {
      border-color: var(--border-medium);
    }

    .btn-danger {
      background: var(--accent-red-soft);
      color: var(--accent-red);
      border: 1px solid rgba(239, 95, 95, 0.3);
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 0.82rem;
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-secondary);
      padding: 8px 12px;
    }

    .main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 32px 40px 100px;
    }

    .welcome-section {
      background: linear-gradient(135deg, var(--accent-gold-soft), var(--accent-blue-soft));
      border: 1px solid var(--accent-gold);
      border-radius: var(--radius-xl);
      padding: 40px;
      margin-bottom: 32px;
      text-align: center;
    }

    .welcome-title {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .welcome-subtitle {
      color: var(--text-secondary);
      font-size: 1rem;
      margin-bottom: 24px;
    }

    .referral-code-box {
      display: inline-flex;
      align-items: center;
      gap: 16px;
      background: var(--bg-deep);
      border: 2px solid var(--accent-gold);
      border-radius: var(--radius-lg);
      padding: 16px 24px;
      margin-bottom: 16px;
    }

    .referral-code-label {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .referral-code-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--accent-gold);
      letter-spacing: 2px;
    }

    .referral-code-copy {
      background: var(--accent-gold);
      color: #0a0a0f;
      border: none;
      padding: 10px 16px;
      border-radius: var(--radius-sm);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .referral-code-copy:hover {
      transform: scale(1.05);
    }

    .share-section {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 16px;
    }

    .share-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      color: var(--text-primary);
      font-size: 0.88rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .share-btn:hover {
      border-color: var(--accent-gold);
      background: var(--accent-gold-soft);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 32px;
    }

    .stat-card {
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 24px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent-gold), var(--accent-blue));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .stat-card:hover {
      border-color: var(--accent-gold);
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.3);
    }

    .stat-card:hover::before {
      opacity: 1;
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      margin-bottom: 16px;
    }

    .stat-icon.blue { background: linear-gradient(135deg, rgba(74, 124, 255, 0.2), rgba(74, 124, 255, 0.1)); }
    .stat-icon.gold { background: linear-gradient(135deg, rgba(212, 168, 85, 0.2), rgba(212, 168, 85, 0.1)); }
    .stat-icon.green { background: linear-gradient(135deg, rgba(74, 200, 140, 0.2), rgba(74, 200, 140, 0.1)); }
    .stat-icon.orange { background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(245, 158, 11, 0.1)); }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 4px;
      letter-spacing: -0.5px;
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--text-muted);
      font-weight: 500;
    }

    .card {
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-bottom: 20px;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .card-title {
      font-size: 1.1rem;
      font-weight: 600;
    }

    .tabs {
      display: flex;
      gap: 4px;
      margin-bottom: 24px;
      border-bottom: 1px solid var(--border-subtle);
      overflow-x: auto;
    }

    .tab {
      padding: 12px 20px;
      font-size: 0.9rem;
      color: var(--text-secondary);
      cursor: pointer;
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
      white-space: nowrap;
      transition: all 0.2s;
    }

    .tab:hover {
      color: var(--text-primary);
    }

    .tab.active {
      color: var(--accent-gold);
      border-bottom-color: var(--accent-gold);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      text-align: left;
      padding: 14px 16px;
      border-bottom: 1px solid var(--border-subtle);
    }

    th {
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    td {
      font-size: 0.9rem;
    }

    tr:hover {
      background: var(--bg-elevated);
    }

    .status-badge {
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .status-badge.pending { background: var(--accent-orange-soft); color: var(--accent-orange); }
    .status-badge.active { background: var(--accent-green-soft); color: var(--accent-green); }
    .status-badge.completed { background: var(--accent-blue-soft); color: var(--accent-blue); }
    .status-badge.paid { background: var(--accent-green-soft); color: var(--accent-green); }
    .status-badge.approved { background: var(--accent-green-soft); color: var(--accent-green); }
    .status-badge.cancelled { background: var(--accent-red-soft); color: var(--accent-red); }
    .status-badge.failed { background: var(--accent-red-soft); color: var(--accent-red); }
    .status-badge.processing { background: var(--accent-blue-soft); color: var(--accent-blue); }

    .empty-state {
      text-align: center;
      padding: 48px 24px;
      color: var(--text-muted);
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--text-secondary);
    }

    .form-input, .form-select {
      width: 100%;
      padding: 12px 16px;
      background: var(--bg-input);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      color: var(--text-primary);
      font-family: inherit;
      font-size: 0.92rem;
      transition: border-color 0.2s;
    }

    .form-input:focus, .form-select:focus {
      outline: none;
      border-color: var(--accent-gold);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .payout-settings {
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-top: 24px;
    }

    .payout-settings-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--bg-elevated);
      border: 1px solid var(--accent-green);
      border-radius: var(--radius-md);
      padding: 16px 20px;
      display: none;
      align-items: center;
      gap: 12px;
      z-index: 200;
      animation: toastIn 0.3s ease;
    }

    .toast.show {
      display: flex;
    }

    @keyframes toastIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .loading-overlay {
      position: fixed;
      inset: 0;
      background: var(--bg-deep);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 3px solid var(--border-subtle);
      border-top-color: var(--accent-gold);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .not-founder-message {
      text-align: center;
      padding: 80px 40px;
    }

    .not-founder-message h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 16px;
    }

    .not-founder-message p {
      color: var(--text-secondary);
      margin-bottom: 24px;
    }

    .type-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 0.78rem;
      font-weight: 500;
    }

    .type-badge.provider {
      background: var(--accent-blue-soft);
      color: var(--accent-blue);
    }

    .type-badge.member {
      background: var(--accent-gold-soft);
      color: var(--accent-gold);
    }

    @media (max-width: 768px) {
      .header {
        padding: 16px 20px;
      }

      .header-brand-text {
        display: none;
      }

      .main {
        padding: 20px;
      }

      .welcome-section {
        padding: 24px;
      }

      .referral-code-box {
        flex-direction: column;
        gap: 12px;
        padding: 16px;
      }

      .referral-code-value {
        font-size: 1.4rem;
      }

      .share-section {
        flex-direction: column;
        align-items: stretch;
      }

      .stats-grid {
        grid-template-columns: 1fr 1fr;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      table {
        display: block;
        overflow-x: auto;
      }

      .analytics-grid {
        grid-template-columns: 1fr !important;
      }
    }

    .activity-feed {
      max-height: 400px;
      overflow-y: auto;
    }

    .activity-item {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 14px 16px;
      border-bottom: 1px solid var(--border-subtle);
      transition: all 0.2s ease;
      cursor: default;
    }

    .activity-item:last-child {
      border-bottom: none;
    }

    .activity-item:hover {
      background: var(--bg-elevated);
      transform: translateX(4px);
    }

    .activity-icon {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
    }

    .activity-icon.member {
      background: var(--accent-gold-soft);
    }

    .activity-icon.provider {
      background: var(--accent-blue-soft);
    }

    .activity-icon.commission {
      background: var(--accent-green-soft);
    }

    .activity-content {
      flex: 1;
      min-width: 0;
    }

    .activity-description {
      font-size: 0.9rem;
      color: var(--text-primary);
      line-height: 1.4;
    }

    .activity-description .highlight-gold {
      color: var(--accent-gold);
      font-weight: 500;
    }

    .activity-description .highlight-blue {
      color: var(--accent-blue);
      font-weight: 500;
    }

    .activity-description .highlight-green {
      color: var(--accent-green);
      font-weight: 500;
    }

    .activity-timestamp {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .leaderboard {
      width: 100%;
      border-collapse: collapse;
    }

    .leaderboard th {
      text-align: left;
      padding: 12px 16px;
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border-bottom: 1px solid var(--border-subtle);
    }

    .leaderboard-row {
      transition: all 0.2s ease;
    }

    .leaderboard-row td {
      padding: 14px 16px;
      border-bottom: 1px solid var(--border-subtle);
      font-size: 0.9rem;
    }

    .leaderboard-row:hover {
      background: var(--bg-elevated);
    }

    .leaderboard-row.current-user {
      background: var(--accent-gold-soft);
      border-left: 3px solid var(--accent-gold);
    }

    .leaderboard-row.current-user:hover {
      background: rgba(212, 168, 85, 0.25);
    }

    .leaderboard-rank {
      font-weight: 700;
      font-size: 1.1rem;
      width: 50px;
      text-align: center;
    }

    .leaderboard-rank.gold {
      color: #ffd700;
      text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
    }

    .leaderboard-rank.silver {
      color: #c0c0c0;
      text-shadow: 0 0 8px rgba(192, 192, 192, 0.5);
    }

    .leaderboard-rank.bronze {
      color: #cd7f32;
      text-shadow: 0 0 8px rgba(205, 127, 50, 0.5);
    }

    .leaderboard-name {
      font-weight: 500;
    }

    .leaderboard-stats {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    .leaderboard-earnings {
      color: var(--accent-green);
      font-weight: 600;
    }

    .leaderboard-optin {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 20px;
      background: var(--bg-elevated);
      border-radius: var(--radius-md);
      margin-bottom: 20px;
      border: 1px solid var(--border-subtle);
    }

    .leaderboard-optin input[type="checkbox"] {
      width: 20px;
      height: 20px;
      accent-color: var(--accent-gold);
      cursor: pointer;
    }

    .leaderboard-optin label {
      font-size: 0.9rem;
      color: var(--text-primary);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .leaderboard-optin .optin-description {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-left: auto;
    }

    .tier-section {
      margin-top: 24px;
      padding: 24px;
      background: var(--bg-deep);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
    }

    .tier-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .tier-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 100px;
      font-size: 1rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .tier-badge.bronze {
      background: linear-gradient(135deg, rgba(205, 127, 50, 0.2), rgba(139, 90, 43, 0.15));
      color: #cd7f32;
      border: 1px solid rgba(205, 127, 50, 0.4);
    }

    .tier-badge.silver {
      background: linear-gradient(135deg, rgba(192, 192, 192, 0.2), rgba(169, 169, 169, 0.15));
      color: #c0c0c0;
      border: 1px solid rgba(192, 192, 192, 0.4);
    }

    .tier-badge.gold {
      background: linear-gradient(135deg, rgba(212, 168, 85, 0.2), rgba(196, 154, 69, 0.15));
      color: #d4a855;
      border: 1px solid rgba(212, 168, 85, 0.4);
    }

    .tier-badge.platinum {
      background: linear-gradient(135deg, rgba(200, 220, 255, 0.2), rgba(180, 200, 240, 0.15));
      color: #c8dcff;
      border: 1px solid rgba(200, 220, 255, 0.4);
      text-shadow: 0 0 8px rgba(200, 220, 255, 0.3);
    }

    .tier-progress-container {
      margin: 16px 0;
    }

    .tier-progress-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .tier-progress-bar {
      width: 100%;
      height: 10px;
      background: var(--bg-elevated);
      border-radius: 100px;
      overflow: hidden;
      border: 1px solid var(--border-subtle);
    }

    .tier-progress-fill {
      height: 100%;
      border-radius: 100px;
      transition: width 0.5s ease;
    }

    .tier-progress-fill.bronze {
      background: linear-gradient(90deg, #8b5a2b, #cd7f32);
    }

    .tier-progress-fill.silver {
      background: linear-gradient(90deg, #a9a9a9, #c0c0c0);
    }

    .tier-progress-fill.gold {
      background: linear-gradient(90deg, #c49a45, #d4a855);
    }

    .tier-progress-fill.platinum {
      background: linear-gradient(90deg, #b4c8f0, #c8dcff);
    }

    .tier-rates {
      display: flex;
      justify-content: center;
      gap: 32px;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .tier-rate-item {
      text-align: center;
    }

    .tier-rate-value {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--accent-green);
    }

    .tier-rate-label {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .tier-next-info {
      text-align: center;
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 12px;
    }

    .tier-next-info strong {
      color: var(--text-primary);
    }
  </style>
  <script src="/i18n.js"></script>
</head>
<body>
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-spinner"></div>
  </div>

  <header class="header">
    <a href="/" class="header-brand">
      <img src="logo.png" alt="My Car Concierge">
      <span class="header-brand-text" data-i18n="founderDashboard.title">Founder Dashboard</span>
    </a>
    <nav class="header-nav">
      <div id="language-switcher"></div>
      <a href="members.html" class="btn btn-secondary" data-i18n="founderDashboard.memberPortal">üè† Member Portal</a>
      <button class="btn btn-danger" onclick="logout()" data-i18n="founderDashboard.logOut">üö™ Log Out</button>
    </nav>
  </header>

  <main class="main" id="main-content" style="display: none;">
    <section class="welcome-section">
      <h1 class="welcome-title"><span data-i18n="founderDashboard.welcomePrefix">Welcome,</span> <span id="founder-name">Founder</span>!</h1>
      <p class="welcome-subtitle" data-i18n="founderDashboard.welcomeSubtitle">Thank you for being a Member Founder. Track your referrals and earnings below.</p>
      
      <div class="referral-code-box">
        <div>
          <div class="referral-code-label" data-i18n="founderDashboard.yourReferralCode">Your Referral Code</div>
          <div class="referral-code-value" id="referral-code">----</div>
        </div>
        <button class="referral-code-copy" onclick="copyReferralCode()" data-i18n="founderDashboard.copyCode">üìã Copy Code</button>
      </div>

      <div class="share-section">
        <button class="share-btn" onclick="copyShareLink('member')" style="border-color:var(--accent-gold);" data-i18n="founderDashboard.copyMemberLink">üîó Copy Member Link</button>
        <button class="share-btn" onclick="copyShareLink('provider')" style="border-color:var(--accent-blue);" data-i18n="founderDashboard.copyProviderLink">üîó Copy Provider Link</button>
        <button class="share-btn" onclick="shareViaEmail('member')" data-i18n="founderDashboard.emailMemberInvite">üìß Email Member Invite</button>
        <button class="share-btn" onclick="shareViaEmail('provider')" data-i18n="founderDashboard.emailProviderInvite">üìß Email Provider Invite</button>
      </div>

      <div class="tier-section" id="tier-section">
        <div class="tier-header">
          <span style="font-size:1rem;color:var(--text-secondary);" data-i18n="founderDashboard.yourCommissionTier">Your Commission Tier:</span>
          <span class="tier-badge bronze" id="tier-badge">ü•â Bronze</span>
        </div>
        <div class="tier-progress-container">
          <div class="tier-progress-labels">
            <span id="tier-progress-current">0 referrals</span>
            <span id="tier-progress-next">Next tier: 10 referrals</span>
          </div>
          <div class="tier-progress-bar">
            <div class="tier-progress-fill bronze" id="tier-progress-fill" style="width: 0%;"></div>
          </div>
        </div>
        <div class="tier-rates">
          <div class="tier-rate-item">
            <div class="tier-rate-value" id="tier-rate-bidpack">50%</div>
            <div class="tier-rate-label" data-i18n="founderDashboard.providerReferralCommission">Provider Referral Commission</div>
          </div>
        </div>
        <div class="tier-next-info" id="tier-next-info">
          Get <strong>4 more referrals</strong> to unlock Silver tier with better rates!
        </div>
      </div>

      <div class="qr-section" style="margin-top:24px;text-align:center;">
        <div style="font-size:0.9rem;color:var(--text-secondary);margin-bottom:16px;" data-i18n="founderDashboard.shareViaQRCode">Share via QR Code</div>
        <div style="display:flex;justify-content:center;gap:32px;flex-wrap:wrap;">
          <div style="text-align:center;">
            <div style="font-size:0.85rem;color:var(--accent-gold);font-weight:600;margin-bottom:8px;" data-i18n="founderDashboard.memberSignup">Member Signup</div>
            <div style="display:inline-block;background:#fff;padding:16px;border-radius:var(--radius-md);border:2px solid var(--accent-gold);">
              <canvas id="qr-code-member" style="display:block;"></canvas>
            </div>
            <div style="margin-top:12px;">
              <button class="share-btn" onclick="downloadQRCode('member')" data-i18n="founderDashboard.downloadMemberQR">üì• Download Member QR</button>
            </div>
          </div>
          <div style="text-align:center;">
            <div style="font-size:0.85rem;color:var(--accent-blue);font-weight:600;margin-bottom:8px;" data-i18n="founderDashboard.providerSignup">Provider Signup</div>
            <div style="display:inline-block;background:#fff;padding:16px;border-radius:var(--radius-md);border:2px solid var(--accent-blue);">
              <canvas id="qr-code-provider" style="display:block;"></canvas>
            </div>
            <div style="margin-top:12px;">
              <button class="share-btn" onclick="downloadQRCode('provider')" data-i18n="founderDashboard.downloadProviderQR">üì• Download Provider QR</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon blue">üë®‚Äçüîß</div>
        <div class="stat-value" id="stat-provider-referrals">0</div>
        <div class="stat-label" data-i18n="founderDashboard.providerReferrals">Provider Referrals</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon gold">üë•</div>
        <div class="stat-value" id="stat-member-referrals">0</div>
        <div class="stat-label" data-i18n="founderDashboard.memberReferrals">Member Referrals</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon green">üí∞</div>
        <div class="stat-value" id="stat-total-earnings">$0.00</div>
        <div class="stat-label" data-i18n="founderDashboard.totalEarnings">Total Earnings</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon orange">‚è≥</div>
        <div class="stat-value" id="stat-pending-balance">$0.00</div>
        <div class="stat-label" data-i18n="founderDashboard.pendingBalance">Pending Balance</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon blue">üìÖ</div>
        <div class="stat-value" id="stat-next-payout" style="font-size: 1.2rem;">--</div>
        <div class="stat-label" data-i18n="founderDashboard.nextPayoutDate">Next Payout Date</div>
      </div>
    </section>

    <section class="card" style="margin-bottom: 20px;">
      <div class="card-header">
        <h2 class="card-title" data-i18n="founderDashboard.commissionAnalytics">üìä Commission Analytics</h2>
      </div>
      <div class="analytics-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
        <div style="background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 20px;">
          <h3 style="font-size: 0.95rem; color: var(--text-secondary); margin-bottom: 16px; text-align: center;" data-i18n="founderDashboard.earningsOverTime">Earnings Over Time</h3>
          <div style="position: relative; height: 250px;">
            <canvas id="earnings-chart"></canvas>
          </div>
        </div>
        <div style="background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 20px;">
          <h3 style="font-size: 0.95rem; color: var(--text-secondary); margin-bottom: 16px; text-align: center;" data-i18n="founderDashboard.earningsBreakdown">Earnings Breakdown</h3>
          <div style="position: relative; height: 250px;">
            <canvas id="breakdown-chart"></canvas>
          </div>
        </div>
      </div>
      <div class="empty-state" id="analytics-empty" style="display: none;">
        <div class="empty-state-icon">üìä</div>
        <p data-i18n="founderDashboard.noCommissionData">No commission data available yet.</p>
      </div>
    </section>

    <section class="card" style="margin-bottom: 20px;">
      <div class="card-header">
        <h2 class="card-title" data-i18n="founderDashboard.recentActivity">üîî Recent Activity</h2>
      </div>
      <div class="activity-feed" id="activity-feed">
      </div>
      <div class="empty-state" id="activity-empty" style="display: none;">
        <div class="empty-state-icon">üîî</div>
        <p data-i18n="founderDashboard.noActivityYet">No activity yet. Your referral activity will appear here.</p>
      </div>
    </section>

    <section class="card" style="margin-bottom: 20px;">
      <div class="card-header">
        <h2 class="card-title" data-i18n="founderDashboard.topFoundersLeaderboard">üèÜ Top Founders Leaderboard</h2>
      </div>
      <div class="leaderboard-optin">
        <input type="checkbox" id="leaderboard-optin-checkbox" onchange="toggleLeaderboardOptIn()">
        <label for="leaderboard-optin-checkbox" data-i18n="founderDashboard.showMeOnLeaderboard">Show me on the leaderboard</label>
        <span class="optin-description" data-i18n="founderDashboard.leaderboardVisibilityNote">Your name and stats will be visible to other founders</span>
      </div>
      <table class="leaderboard" id="leaderboard-table">
        <thead>
          <tr>
            <th data-i18n="founderDashboard.rank">Rank</th>
            <th data-i18n="founderDashboard.founder">Founder</th>
            <th data-i18n="founderDashboard.totalReferrals">Total Referrals</th>
            <th data-i18n="founderDashboard.earnings">Earnings</th>
          </tr>
        </thead>
        <tbody id="leaderboard-tbody">
        </tbody>
      </table>
      <div class="empty-state" id="leaderboard-empty" style="display: none;">
        <div class="empty-state-icon">üèÜ</div>
        <p data-i18n="founderDashboard.noFoundersOnLeaderboard">No founders on the leaderboard yet. Be the first to opt in!</p>
      </div>
    </section>

    <div class="card">
      <div class="tabs">
        <div class="tab active" data-tab="referrals" data-i18n="founderDashboard.tabReferrals">üìã Referrals</div>
        <div class="tab" data-tab="commissions" data-i18n="founderDashboard.tabCommissions">üíµ Commissions</div>
        <div class="tab" data-tab="payouts" data-i18n="founderDashboard.tabPayouts">üì§ Payouts</div>
      </div>

      <div id="referrals-tab" class="tab-content active">
        <table id="referrals-table">
          <thead>
            <tr>
              <th data-i18n="founderDashboard.type">Type</th>
              <th data-i18n="founderDashboard.nameEmail">Name / Email</th>
              <th data-i18n="founderDashboard.dateReferred">Date Referred</th>
              <th data-i18n="founderDashboard.status">Status</th>
            </tr>
          </thead>
          <tbody id="referrals-tbody">
          </tbody>
        </table>
        <div class="empty-state" id="referrals-empty" style="display: none;">
          <div class="empty-state-icon">üìã</div>
          <p data-i18n="founderDashboard.noReferralsYet">No referrals yet. Share your code to start earning!</p>
        </div>
      </div>

      <div id="commissions-tab" class="tab-content">
        <table id="commissions-table">
          <thead>
            <tr>
              <th data-i18n="founderDashboard.type">Type</th>
              <th data-i18n="founderDashboard.amount">Amount</th>
              <th data-i18n="founderDashboard.date">Date</th>
              <th data-i18n="founderDashboard.status">Status</th>
            </tr>
          </thead>
          <tbody id="commissions-tbody">
          </tbody>
        </table>
        <div class="empty-state" id="commissions-empty" style="display: none;">
          <div class="empty-state-icon">üíµ</div>
          <p data-i18n="founderDashboard.noCommissionsYet">No commissions yet. Commissions are earned when your referrals make purchases.</p>
        </div>
      </div>

      <div id="payouts-tab" class="tab-content">
        <table id="payouts-table">
          <thead>
            <tr>
              <th data-i18n="founderDashboard.period">Period</th>
              <th data-i18n="founderDashboard.amount">Amount</th>
              <th data-i18n="founderDashboard.method">Method</th>
              <th data-i18n="founderDashboard.status">Status</th>
              <th data-i18n="founderDashboard.date">Date</th>
            </tr>
          </thead>
          <tbody id="payouts-tbody">
          </tbody>
        </table>
        <div class="empty-state" id="payouts-empty" style="display: none;">
          <div class="empty-state-icon">üì§</div>
          <p data-i18n="founderDashboard.noPayoutsYet">No payouts yet. Payouts are processed on the 15th of each month for balances ‚â• $25.</p>
        </div>
      </div>
    </div>

    <section class="payout-settings">
      <h2 class="payout-settings-title" data-i18n="founderDashboard.payoutSettings">üí≥ Payout Settings</h2>
      <form id="payout-settings-form">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label" data-i18n="founderDashboard.payoutMethod">Payout Method</label>
            <select class="form-select" id="payout-method">
              <option value="stripe_connect" data-i18n="founderDashboard.stripeConnect">Stripe Connect (Instant)</option>
              <option value="paypal">PayPal</option>
              <option value="venmo">Venmo</option>
              <option value="zelle">Zelle</option>
              <option value="bank_transfer" data-i18n="founderDashboard.bankTransfer">Bank Transfer</option>
              <option value="check" data-i18n="founderDashboard.check">Check</option>
            </select>
          </div>
          <div class="form-group" id="payout-email-group">
            <label class="form-label" id="payout-email-label" data-i18n="founderDashboard.paypalEmail">PayPal Email</label>
            <input type="text" class="form-input" id="payout-email" placeholder="your@email.com">
          </div>
          <div class="form-group" id="stripe-connect-group" style="display: none;">
            <label class="form-label" data-i18n="founderDashboard.stripeAccount">Stripe Account</label>
            <div id="stripe-connect-status">
              <button type="button" class="btn btn-primary" id="stripe-connect-btn" onclick="initiateStripeConnect()">
                <svg style="width:18px;height:18px;margin-right:6px;" viewBox="0 0 24 24" fill="currentColor"><path d="M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"/></svg>
                <span data-i18n="founderDashboard.connectWithStripe">Connect with Stripe</span>
              </button>
            </div>
            <div id="stripe-connect-connected" style="display: none;">
              <div style="display: flex; align-items: center; gap: 12px;">
                <span style="color: var(--accent-green); font-weight: 600;" data-i18n="founderDashboard.connected">‚úì Connected</span>
                <button type="button" class="btn btn-secondary btn-sm" onclick="initiateStripeConnect()" data-i18n="founderDashboard.updateAccount">Update Account</button>
                <button type="button" class="btn btn-ghost btn-sm" onclick="checkStripeConnectStatus()" data-i18n="founderDashboard.checkStatus">Check Status</button>
              </div>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary" data-i18n="founderDashboard.savePayoutSettings">üíæ Save Payout Settings</button>
      </form>
    </section>
  </main>

  <div class="not-founder-message" id="not-founder-message" style="display: none;">
    <h2 data-i18n="founderDashboard.founderAccessRequired">üîí Founder Access Required</h2>
    <p data-i18n="founderDashboard.dashboardOnlyForFounders">This dashboard is only available to approved Member Founders.</p>
    <p data-i18n="founderDashboard.waitForApproval">If you've applied to become a founder, please wait for approval.</p>
    <a href="member-founder.html" class="btn btn-primary" data-i18n="founderDashboard.applyToBecomeFounder">Apply to Become a Founder</a>
    <a href="members.html" class="btn btn-secondary" style="margin-left: 12px;" data-i18n="founderDashboard.goToMemberPortal">Go to Member Portal</a>
  </div>

  <div class="toast" id="toast">
    <span id="toast-message" data-i18n="founderDashboard.copied">Copied!</span>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabaseclient.js"></script>
  <script src="founder-dashboard.js"></script>
</body>
</html>
